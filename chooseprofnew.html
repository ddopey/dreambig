<!doctype html>
<html dir="ltr" lang="ru">
	<head>
		<meta charset="uft-8">
	    <title>Выбор профессии</title>
		<style>

		 body, html {
		 	 height: 100%;
       display: grid;
       font-size: 1.3vw;
       margin: 0;
       padding: 0;
       box-sizing: border-box;
       font-family: sans-serif;
		 }

		 /*making fun */

	 	.fun {
		  animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
		  /*transform: translate(-80%, -80%);*/
		  transform: translate3d(0, 0, 0);
		  perspective: 1000px;
		}

		@keyframes shake {
  10%, 90% {
    transform: translate3d(-2px, 0, 0);
  }
  20%, 80% {
    transform: translate3d(4px, 0, 0);
  }
  
  30%, 50%, 70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%, 60% {
    transform: translate3d(4px, 0, 0);
	}
	}

		 #test1 {
		 	display: none;
		 }

		.vermiddle {
			vertical-align: middle;
			margin: 0;
		}

		.fraction {
			display: inline;
			border: 0;
		}

		.fixedtable .fraction td {
			border:  0;
		}

		.fixedtable .fraction td.line {
			border-bottom: 1px solid black;
		}

		.fixedtable .fraction td.cellsp {
			border-bottom: 2px solid black;
		}

		.imageresize {
			/*display: block;
			width: 100%;
			height: auto;*/
			max-width: 60%;
			max-height: 60%;
		}

		.low {
			vertical-align: middle;
		}

		.fixedtable .low {
			vertical-align: middle;
			line-height: 100%;
		} 

		  .table {
		  	border: 1px solid black;
			  border-collapse: collapse;
			  margin: 10%;
			  margin-bottom: 2%;
			  table-layout: fixed;
		  }

		  .invisible {
		  	display: "none";
		  }

		  .buttontable {
		  	margin: auto;
		  	text-align: center;
		  	margin-bottom: 2%;
		  }

		  .table tr, .table td {
		  	border: 1px solid black;
			  border-collapse: collapse;
		  }

			.fontsize {
				font-size: 3vw;
			}

			.bold {
				font-weight: bold;
			}

			.paddingbottom {
				padding-bottom: 3vw;
			}

			.center {
				text-align: center;
			}

			.justify {
				text-align: justify;
			}

			.preamble {
				margin:  auto;
				text-align: center;
				width: 80%;
				font-size: 2vw;
			}

			 .centertext {
			 text-align: center;
			}

			.fixedtable {
				width: 90%;
			}

			.forbutton {
				padding-top: 2rem;
				padding-bottom: 2rem;
			}

			.fixedtable, .fixedtable td {
				table-layout: fixed;
				text-align: center;
				vertical-align: middle;
				font-size: 2vw;
				margin:  auto;
				/*border: 1px solid black;*/
				border: 0; 
			  border-collapse: collapse;
			  border-spacing: 0;
			}

			.fixedtable .five {
			  width: 5%;
			}
                        
			.fixedtable .ten {
			  width: 10%;
			}

			.fixedtable .fifteen {
			 width: 15%;
                        }	
                         

  		.fixedtable .fontsizesmall {
			  font-size: 1vw;
			}

			.fixedtable .paddings {
				padding: 2%;
			}

			.buttontable .biggerpaddings {
				padding: 10%;
			}

			.fixedtable .justify {
				text-align: justify;
			}

			.fixedtable .yesborder {
				border: 1px solid black;
			}

			.fixedtable .left {
				text-align: left;
			}
			
			.fixedtable .right {
				text-align: right;
			}
			
			.fixedtable #differentrow  {
				border-left: 0;
				border-right: 0;
				border-bottom: 0;
			}
		 	
		</style>

	</head>
	<body id="body">
		<!--Here we have the start section of the test -->
		<div id="preamble" class="preamble">
			<h2>Выберайте профессию осознанно!</h2>
			<p class="justify">Вам будет предложен тест, который поможет определить наиболее подходящие Вам профессии. Оценивайте утверждения искренне и честно - тогда показанный результат будет наиболее объективным.</p>
			<div id="start"><button class="fontsize">НАЧАТЬ</button></div>
		</div>
		 <table id="test1" class="fixedtable">
		 	<tr><td colspan="3"><h2 id="questionssection">I. Оцените высказывание</h2></td></tr>
    	<tr><td id="statement" colspan="3" class="paddingbottom"></td></tr>
    	  <tr id="images">
	    	 	<td id="img1"><img class="imageresize" src="img/trainer/t1.jpg" alt="" /></td>
	    	 	<td id="img2"><img class="imageresize" src="img/trainer/t5.jpg" alt="" /></td>
	    	 	<td id="img3"><img class="imageresize" src="img/trainer/t6.jpg" alt="" /></td>
    	 </tr>
    	 <tr id="variants">
         <td id="td1">
         	<h5>ДА, ЭТО МОЁ</h5>
	       </td> 
	       <td id="td2">
	       	<h5>НУ, НЕ ЗНАЮ...</h5>
	    	 </td>
	    	 <td id="td3">
	    	 	<h5>НЕТ, НЕ ПРО МЕНЯ!</h5>
	    	 </td>
    	 </tr>
    	 <!--<tr id="differentrow" class="forbutton"><td class="centertext forbutton" id="centertexttd" colspan="3"><button id="forward" class="fontsize">ДАЛЬШЕ</button></td></tr>-->
    </table>
    <!--<table id="test2" class="invisible fixedtable">-->
    </table>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.1/html2pdf.bundle.min.js" integrity="sha512-vDKWohFHe2vkVWXHp3tKvIxxXg0pJxeid5eo+UjdjME3DBFBn2F8yWOE0XmiFcFbXxrEOR1JriWEno5Ckpn15A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>

  	//general parameters

  	let all_keys_and_values = {
      "nature": 0,
      "machines": 0,
      "symbol_system": 0,
      "arts": 0,
      "human": 0
    }

    let first_matrix = {
    	"nature": "Природа",
      "machines": "Техника",
      "symbol_system": "Знаковая система",
      "arts": "Художественный образ",
      "human": "Человек"
    }

    	let second_matrix = {
				"physics_and_math": "Физика и математика",
	      "chemistry_and_biology": "Химия и биология",
	      "radio_and_electronics": "Радио и электроника",
	      "mechanics_and_design": "Механика и конструирование",
	      "geography_and_geology": "География и геология",
	      "literature_and_arts": "Литература и искусство",
	      "history_and_politics": "История и политика",
	      "teaching_and_medicine": "Педагогика и медицина",
	      "entrepreneurship": "Предпринимательство",
	      "sports_and_military": "Спорт и военное дело"
		}

		const first_matrix_content = {
			"nature": "К данному направлению можно отнести профессии, связанные с изучением живой и неживой природы, с уходом за растениями и животными, с профилактикой и лечением заболеваний растений и животных. Этот тип профессий предполагает наличие у человека хорошей наблюдательности, способности ориентироваться в условиях непредсказуемости, выносливости и терпеливости.",
      "machines": "Данное направление включает в себя профессии, связанные с созданием, монтажом, сборкой и наладкой технических устройств, эксплуатацией технических средств, ремонтом техники. Оно требует от работника высокого уровня развития наглядно-образного мышления, пространственных представлений, технической осведомленности и сообразительности, хороших двигательных навыков, ловкости.",
      "symbol_system": "Данное направление объединяет профессии, связанные с текстами, цифрами, формулами и таблицами, с чертежами, картами, схемами, со звуковыми сигналами. Такие профессии требуют от человека способности к отвлеченному мышлению, оперированию числами, длительному и устойчивому сосредоточению внимания, усидчивости.",
      "arts": "К данному направлению можно отнести профессии, связанные с созданием, проектированием, моделированием художественных произведений, с воспроизведением, изготовлением различных изделий по эскизу, образцу. От человека в профессиях этого типа требуется развитый художественный вкус, высокая эстетическая чувствительность, богатое и яркое воображение.",
      "human": "К данному направлению относятся профессии, связанные с медицинским обслуживанием, обучением и воспитанием, бытовым обслуживанием, правовой защитой. Профессии этого типа предъявляют высокие требования к таким качествам работника как умение устанавливать и поддерживать деловые контакты, понимать состояние людей, оказывать влияние на других и т.п."
		}
    //object for storing stage four scores for professions

    let final_scores_object = {};

    //lists of professions after stage one, two and three:

    let list_of_professions_one = [],
        list_of_professions_two = [],
  			general_list_of_professions = [],
  			general_list_of_professions_copy = [];

    let current_element = '',
    		current_index = 0;

    let great_key = 0;

    const statements = [
        ["Легко знакомлюсь с людьми", "human", 1],
        ["Могу подолгу что-нибудь мастерить","machines", 1],
        ["Люблю ходить в музеи, театры, на выставки", "arts", 1],
        ["Охотно наблюдаю за растениями, животными", "nature", 1],
        ["Охотно могу что-нибудь вычислять, чертить", "symbol_system", 1],
        ["С удовольствием общаюсь со сверстниками или малышами", "human", 1],
        ["С удовольствием ухаживаю за растениями и животными", "nature", 1],
        ["Обычно делаю мало ошибок в письменных работах", "symbol_system", 1],
        ["Мои изделия обычно вызывают интерес у других людей", "machines", 2],
        ["Люди считают, что у меня есть художественные способности", "arts", 2],
        ["Охотно смотрю видео или читаю о растениях, животных", "nature", 1],
        ["Принимаю участие в спектаклях, концертах", "arts", 1],
        ["Люблю смотреть видео или читать об устройстве механизмов, приборов, машин", "machines", 1],
        ["Подолгу могу разгадывать головоломки, задачи, ребусы", "symbol_system", 2],
        ["Легко улаживаю разногласия между людьми", "human", 2],
        ["Считают, что у меня есть способности к работе с техникой", "machines", 2],
        ["Людям нравится мое художественное творчество", "arts", 2],
        ["У меня есть способности к работе с растениями и животными", "nature", 2],
        ["Я могу ясно излагать свои мысли в письменной форме", "symbol_system", 2],
        ["Я почти никогда ни с кем не ссорюсь", "human", 1],
        ["Результаты моего технического творчества одобряют даже незнакомые люди", "machines", 1],
        ["Мне легко даются иностранные языки", "symbol_system", 1],
        ["Мне часто случается помогать даже незнакомым людям", "human", 2],
        ["Подолгу могу заниматься музыкой, рисованием, читать книги и т. д", "arts", 1],
        ["Могу влиять на ход развития растений и животных", "nature", 2],
        ["Люблю разбираться в устройстве механизмов, приборов", "machines", 1],
        ["Мне обычно удается убедить людей в своей правоте", "human", 1],
        ["Слежу за новостями о растениях и животных", "nature", 1],
        ["Люблю смотреть видео и читать литературу научно-популярного и публицистического характера", "symbol_system", 1],
        ["Стараюсь понять секреты мастерства и пробую свои силы в живописи, музыке и т. п.", "arts", 1]
        ];

  //object with professions

    const professions = {
      nature: ["Агроном", "Археолог", "Астроном", "Биоинженер", "Биолог", "Биохимик", "Ботаник", "Генетик", "Географ", "Геолог", "Гидролог", "Зоолог", "Метеоролог", "Физик", "Философ", "Эколог"], //16
      machines: ["Инженер", "Каменщик", "Колорист", "Летчик", "Метролог", "Механик", "Моряк", "Производственный мастер", "Сварщик", "Системный администратор", "Слесарь", "Химик-технолог", "Электрик"], //13
      symbol_system: ["Архитектор", "Аудитор", "Бухгалтер", "Историк", "Копирайтер", "Лингвист", "Маркетолог", "Математик", "Менеджер по продукту", "Нотариус", "Переводчик", "Программист", "Сметчик", "Социолог", "Политолог", "Специалист по информационной безопасности", "Тестировщик", "Фармацевт", "Филолог", "Финансист", "Экономист", "SEO-специалист"], //22
      arts: ["Бренд-менеджер", "Дизайнер", "Музыкант", "Режиссер", "Скульптор", "Фотограф", "Художник"], //7
      human: ["Воспитатель детского сада", "Врач", "Дипломат", "Журналист", "Культуролог", "Логист", "Логопед", "Медсестра/Медбрат", "Менеджер по PR", "Менеджер по ВЭД", "Менеджер по закупкам", "Менеджер по персоналу", "Менеджер по продажам", "Налоговый инспектор", "Психиатр", "Психолог", "Риелтор", "Страховой агент", "Учитель", "Юрист", "Event-менеджер", "SMM-специалист"] //22
    }

  //questions for the second stage

    const second_stage_questions = [
      "Узнавать об открытиях в области физики и математики.",
      "Смотреть видео и телепередачи о жизни растений и животных.",
      "Разбираться в устройстве электроприборов.",
      "Смотреть научно-популярные передачи и/или читать научно-технические журналы.",
      "Смотреть передачи о жизни людей в разных странах.",
      "Бывать на выставках, концертах, спектаклях.",
      "Обсуждать и анализировать события в стране и за рубежом.",
      "Наблюдать за работой медсестры, врача.",
      "Создавать уют и порядок в доме.",
      "Смотреть фильмы и/или читать книги о войнах и сражениях.",
      "Заниматься математическими расчетами, вычислениями.",
      "Узнавать об открытиях в области химии и биологии.",
      "Ремонтировать бытовые электроприборы.",
      "Посещать технические выставки, знакомиться с достижениями науки и техники.",
      "Ходить в походы, бывать в новых для себя местах.",
      "Знакомиться с отзывами и статьями о книгах, фильмах, концертах.",
      "Участвовать в общественной жизни школы, города.",
      "Объяснять одноклассникам учебный материал.",
      "Самостоятельно выполнять работу по хозяйству.",
      "Соблюдать режим, вести здоровый образ жизни.",
      "Проводить опыты по физике.",
      "Ухаживать за животными и растениями.",
      "Смотреть видео, читать статьи об электронике и радиотехнике.",
      "Собирать и ремонтировать часы, замки, бытовую технику, велосипеды.",
      "Коллекционировать камни, минералы.",
      "Вести дневник, сочинять стихи, рассказы.",
      "Смотреть фильмы об известных политиках, читать книги по истории.",
      "Играть с детьми, помогать делать уроки младшим.",
      "Покупать продукты для дома, вести учет расходов.",
      "Играть в войну с друзьями, в компьтерные стрелялки и военные стратегии.",
      "Заниматься физикой и математикой сверх школьной программы.",
      "Замечать и объяснять природные явления.",
      "Собирать, ремонтировать компьютеры.",
      "Создавать чертежи, схемы, графики, в том числе на компьютере.",
      "Участвовать в географических, геологических экспедициях.",
      "Рассказывать друзьям об увиденных фильмах, спектаклях, прочитанных книгах.",
      "Следить за политической жизнью в стране и за рубежом.",
      "Ухаживать за маленькими детьми и близкими, если они заболели.",
      "Придумывать, находить способы зарабатывания денег.",
      "Заниматься физкультурой и спортом.",
      "Участвовать в физико-математических олимпиадах.",
      "Выполнять лабораторные опыты по химии и биологии.",
      "Разбираться в принципах работы электроприборов.",
      "Разбираться в принципах работы различных механизмов.",
      "Изучать географические и геологические карты.",
      "Участвовать в спектаклях, концертах.",
      "Изучать политику и экономику других стран.",
      "Изучать причины поведения людей, строение человеческого организма.",
      "Зарабатывать деньги для семейного бюджета",
      "Участвовать в спортивных соревнованиях" 	  
];

// object with information on second stage questions

const second_stage_spheres = {
	"physics_and_math": [1, 11, 21, 31, 41],
        "chemistry_and_biology": [2, 12, 22, 32, 42],
        "radio_and_electronics": [3, 13, 23, 33, 43],
        "mechanics_and_design": [4, 14, 24, 34, 44],
        "geography_and_geology": [5, 15, 25, 35, 45],
        "literature_and_arts": [6, 16, 26, 36, 46],
        "history_and_politics": [7, 17, 27, 37, 47],
        "teaching_and_medicine": [8, 18, 28, 38, 48],
        "entrepreneurship": [9, 19, 29, 39, 49],
        "sports_and_military": [10, 20, 30, 40, 50]
}

//jobs based on spheres for the second test

const jobs_based_on_spheres = {
	"physics_and_math": ["Математик", "Физик", "Астроном", "Аудитор", "Бухгалтер", "Архитектор", "Финансист", "Экономист", "Программист", "Сметчик", "Тестировщик", "Лингвист", "Специалист по информационной безопасности"], //13
        "chemistry_and_biology": ["Агроном", "Биоинженер", "Биолог", "Биохимик", "Ботаник", "Генетик", "Эколог", "Зоолог", "Химик-технолог" ], //9
        "radio_and_electronics": ["Электрик"], //1
        "mechanics_and_design": ["Инженер", "Каменщик", "Колорист", "Метролог", "Механик", "Производственный мастер", "Сварщик", "Системный администратор", "Слесарь"], //9
        "geography_and_geology": ["Географ", "Метеоролог", "Гидролог", "Геолог"], //4
        "literature_and_arts": ["Художник", "Скульптор", "Дизайнер", "Фотограф", "Музыкант", "Режиссер", "Переводчик", "Журналист", "Копирайтер", "SEO-специалист", "SMM-специалист", "Бренд-менеджер"], //12
        "history_and_politics": ["Историк", "Культуролог", "Филолог", "Археолог", "Менеджер по PR", "Социолог", "Политолог", "Дипломат", "Философ",  "Юрист", "Нотариус"], //11
        "teaching_and_medicine": ["Учитель", "Воспитатель детского сада", "Логопед", "Врач", "Медсестра/Медбрат", "Психиатр", "Психолог", "Фармацевт", "Менеджер по персоналу"], //9
        "entrepreneurship": ["Менеджер по закупкам", "Менеджер по продажам", "Риелтор", "Страховой агент", "Event-менеджер", "Маркетолог", "Логист", "Менеджер по ВЭД", "Менеджер по продукту"], //9
        "sports_and_military": ["Летчик", "Налоговый инспектор", "Моряк"] //3
}

// object for storing scores for the second test

	let second_test_scores = {
	"physics_and_math": 0,
	      "chemistry_and_biology": 0,
	      "radio_and_electronics": 0,
	      "mechanics_and_design": 0,
	      "geography_and_geology": 0,
	      "literature_and_arts": 0,
	      "history_and_politics": 0,
	      "teaching_and_medicine": 0,
	      "entrepreneurship": 0,
	      "sports_and_military": 0

	}

    const definitions = {
    	"Агроном": "специалист в области земледелия, обладающий всесторонними знаниями в области выращивания и сбора урожая растений",
    	"Археолог": "учёный, который изучает быт и культуру древних цивилизаций по сохранившимся останкам их жизнедеятельности. В основные задачи работы археолога входит проведение раскопок для поиска источников исследования.", 
    	"Астроном": "человек, изучающий небесные объекты, например, звёзды, планеты и их спутники, кометы.",
    	"Биоинженер": "учёный, специализирующийся на целенаправленном изменении свойств живого организма.",
    	"Биолог": "занимается исследованиями растительного и животного мира Земли. Он изучает все аспекты жизни живых организмов Земли, их структуру, рост, развитие, происхождение, эволюцию и распределение по планете.",
    	"Биохимик": "специалист, занимающийся изучением химического состава живых организмов и клеток, а также химических процессов, являющихся основой их жизнедеятельности.",
    	"Ботаник": "специалист в области науки о растениях, их жизни, внешнем и внутреннем строении. Работа ботаников заключается в сборе и изучении растений, составлении специальных справочников и классификаторов, участии в различных разработках сельского хозяйства.",
    	"Генетик": "учёный, изучающий законы и механизмы наследственности и изменчивости: условий зарождения организмов, их изменчивости и передачи наследственных свойств, и методов управления этими процессами.",
    	"Географ": "человек, изучающий географию Земли. Проводит исследования, пишет научные работы, участвует в экспедициях. Может работать по следующим специализациям: краеведение, физическая география, геоморфология, гляциология, экономическая география, геоинформатика.",
    	"Геолог": "пециалист по изучению состава и строения горных пород с целью поисков и разведки месторождений полезных ископаемых.",
    	"Гидролог": "специалист по изучению водной поверхности Земли, её свойств, распространения и протекающих в ней процессов (круговорот воды в природе и пр.).",
    	"Зоолог": "ученый, который изучает животный мир. Задачами современных зоологов являются изучение уже существующих видов животных, поиск новых видов, защита животных, которые находятся под угрозой исчезновения, исследования болезней животных.",
    	"Метеоролог": "специалист по погоде, наблюдатель и исследователь атмосферных явлений. Метеорологи наблюдают за природными явлениями, анализируют их и составляют прогнозы.",
    	"Физик": "исследует природу, а именно физические тела и физические явления. Суть работы - проверка логических заключений экспериментом.",
    	"Философ": "мыслитель, который стремится не только познать мир, но и разгадать главные вопросы мироздания. Профессия возникла много веков назад, но до сих пор не теряет актуальности.",
    	"Эколог": "специалист, занимающийся анализом биосферной ситуации и разработкой мер для уменьшения существующего и возможного вреда природе. Эколог выявляет причины природных катаклизмов и разрабатывает возможности снижения воздействия человеческого фактора на окружающую среду.",
    	"Инженер": "человек, который создает, усовершенствует, ремонтирует разнообразные технические приспособления, оборудование, машины, установки, коммуникации",
    	"Каменщик": "рабочий, участвующий в возведении и ремонте жилых домов, мостов, промышленных и других сооружений из природных и искусственных строительных материалов.",
    	"Колорист": "составитель колера, специалист по смешению красителей, подбору цветовой гаммы.",
    	"Летчик": "специалист, управляющий самолетом или вертолетом, а также иными летательными аппаратами.",
    	"Метролог": "специалист, приводящий характеристики и настройки измерительного инструментария в соответствие с установленными стандартами, контролирующий точность приборов путем разработки и применения поверочных схем, методик и эксплуатационных инструкций.",
    	"Механик": "квалифицированный рабочий, имеющий профессиональное образование и занятый обслуживанием, ремонтом технических средств (необязательно связанных с механизмами), например: автомеханик, авиамеханик, электромеханик, радиомеханик, механик по ремонту бытовой техники",
    	"Моряк":"общее название для множества специалистов, работающих на грузовых и пассажирских судах разных типов, а также на военных кораблях.",
    	"Производственный мастер": "человек, который хорошо разбирается в определённом типе оборудования, ремонтирует и настраивает его, часто является ещё и руководителем группы людей, занимающихся обслуживанием такого оборудования",
    	"Сварщик": "занимается соединением металлических конструкций, деталей, изделий, ёмкостей и трубопроводов разного вида, состава, предназначения и уровня сложности. В своей работе сварщики используют электрическую дуговую сварку или газовый факел.",
    	"Системный администратор": "специалист, который отвечает за работу информационной инфраструктуры компании, обеспечивает ее настройку, поддерживает работоспособность, занимается ее развитием и совершенствованием.",
    	"Слесарь": "специалист по механической ручной обработке металлов и изделий из них, включая операции по их сборке, разборке и ремонту на производстве или в быту.",
    	"Химик-технолог": "занимается проведением исследований и химических экспертиз, разработкой химических составов разнообразной продукции, отвечает за технологический процесс ее производства.",
    	"Электрик": "специалист, занимающийся монтажом, ремонтом и обслуживанием бытового и промышленного электрооборудования.",
        "Архитектор": "специалист, который занимается проектированием зданий, кварталов и интерьеров.",
			"Аудитор": "специалист, который проверяет налоговую и финансовую документацию организации, оценивает, насколько эффективно она работает и дает рекомендации, как исправить выявленные ошибки.",
			"Бухгалтер": "специалист, в обязанности которого входит документальное ведение финансово-хозяйственного учета предприятия. Также занимается начислением заработной платы, подготовкой и сдачей отчетов в налоговую инспекцию и фонды.",
			"Историк": "специалист, который занимается исследованием документов, предметов, мест, имеющих отношение к прошлому человечества.",
			"Копирайтер": "специалист, который создает текстовый контент. Это могут быть тематические статьи на сайте, посты в блоге или соцсетях, email-рассылки, пресс-релизы.",
			"Лингвист": "ученый или практик в области языковедения. Занимается изучением языкового разнообразия, а также исследованием структуры, особенностей и функций человеческого языка",
			"Маркетолог": "специалист, который занимается продвижением товаров и услуг компании. Выявляет потребности потенциальных клиентов, чтобы предложить товар или услугу, которые удовлетворят эти потребности.",
			"Математик": "занимается исследовательской деятельностью в сфере математических наук. Разрабатывает матетматические модели реальных процессов.",
			"Менеджер по продукту": "человек, управляющий продуктом, отвечающий за создание новых продуктов, анализ рынка, ассортиментную политику, ценообразование, продвижение продукта, формирование требований к продукту, определение назначения продукта",
			"Нотариус": "юрист, совершающий предусмотренные законом нотариальные действия (оформление доверенностей, завещаний, дарственных, сделок купли-продажи и т.д.).",
			"Переводчик": "специалист, который умеет не просто передать смысл устного или письменного текста на одном языке, пересказав его на другом, но и интерпретировать - адаптировать к восприятию человека иной культуры, чем автор.",
			"Программист" : "специалист, создающий исходный код программы. Такой программой может быть операционная система компьютера, видеоигра, web или мобильное приложение, даже алгоритм работы микроволновки.",
			"Сметчик": "специалист по определению стоимости различных видов работ, таких как строительство, проектные работы, реставрация, ремонт и другие.",
			"Социолог": "специалист, занимающийся анализом, описанием и оценкой проблем, фактов и явлений, происходящих в обществе, отдельных группах и общностях.",
			"Политолог": "специалист, который изучает политику как особую область жизни людей, связанную с властными отношениями, анализирует события политической жизни.",
			"Специалист по информационной безопасности": "человек, который принимает непосредственное участие в создании системы защиты информации, ее аудите и мониторинге, анализирует информационные риски, разрабатывает и проводит мероприятия по их предотвращению.",
			"Тестировщик": "специалист, который проверяет работу программного обеспечения, различных приложений и ищет в них всевозможные ошибки и уязвимости.",
			"Фармацевт": "специалист в области лекарственных препаратов. Умеет подбирать и готовить их, хорошо разбирается в их компонентах, взаимодействии показаниях и противопоказаниях для применения.",
			"Филолог": "человек, изучающий языки, их историю, строение, структуру.",
			"Финансист": "занимается денежными операциями различных размеров и степени сложности, управляет капиталом, регулирует финансирование проектов.",
			"Экономист": "эксперт в области экономической сфере, который анализирует деятельность предприятия или компании для увеличения ее эффективности, разрабатывает схему планирования и бюджетирования, контролирует реализацию бюджета, регулярно ведет отчетность, занимается аналитикой.",
			"SEO-специалист": "человек, который занимается продвижением сайтов в поисковых системах",
			"Бренд-менеджер": "маркетолог, который отвечает за создание образа товара (торговой марки) в сознании потребителей. В ее задачи входит формирование стратегии развития торговой марки и ее продвижение.",
			"Дизайнер": "специалист по созданию макетов окружающей действительности. Она может быть реальной или виртуальной, может воплощаться в жизнь или оставаться концепцией.",
			"Музыкант": "человек, который умеет играть на музыкальных инструментах. Часто также умеет петь, писать песни и музыку, делать аранжировки.",
			"Режиссер": "несет ответственность за постановку фильма, театрального спектакля, музыкального видеоклипа. Это творческая профессия, востребованная в сферах теле- и киноиндустрии, а также в цирковом и эстрадном искусстве, видеоблогинге.",
			"Скульптор": "художник, занимающийся созданием скульптур, то есть трехмерных произведений объемно-пространственной формы.",
			"Фотограф": "человек, создающий фотографии. Фотографии создаются при помощи различной фототехники, но в настоящее время, конечно же, преобладает цифровая фотография, как самый быстрый и доступный способ получения фотоснимка.",
			"Художник": "мастер изобразительного искусства, который умеет переносить свои мысли, переживания и впечатления на полотно с помощью красок, карандашей и т.д.",
			"Воспитатель детского сада": "занимается воспитанием, обучением и развитием ребенка. Проводит зарядки, занятия по развитию речи, навыков устного счета, чтению, рисованию, лепке, природоведению. Организует мероприятия в соответствии с режимом дня.",
			"Врач": "специалист, который занимается профилактикой и лечением болезней. Обследует пациентов, вникает в суть их проблем, ставит им диагнозы, принимает важнейшие решения, от которых может зависеть жизнь больных",
			"Дипломат": "представляет свою страну на международной арене, отстаивает ее интересы, защищает ее граждан, урегулирует конфликты. Важной частью работы дипломата является налаживание добрососедских отношений и сотрудничества с различными странами.",
			"Журналист": "специалист в сфере сбора и обработки информации для ее размещения в газетах, журналах, на радио и телевидении, а также в Интернете.",
			"Культуролог": "специалист в области истории культуры, закономерностей и теорий ее развития, взаимосвязи культурных процессов и явлений, обнаружения и сохранения культурного наследия.",
			"Логист": "специалист, который организует транспортные потоки, координирует доставку товаров от производства до точек реализации, продумывает способы и маршруты перевозки от упаковки и погрузки на складе до передачи заказчику.",
			"Логопед": "занимается исправлением дикции у детей и взрослых, устранением ее недостатков, в том числе заикания, картавости, шепелявости и т.д.",
			"Медсестра/Медбрат": "квалифицированный помощник врача на всех участках работы. Выполняет все указания и предписания врача, в его отсутствие оказывает первую помощь больному.",
			"Менеджер по PR": "специалист, который отвечает за внешние коммуникации компании, бренда или продукта - общается со СМИ, следит за тем, что говорят и пишут клиенты и как компания представлена в соцсетях.", 
			"Менеджер по ВЭД": "специалист, который занимается вопросами экспорта или импорта товаров.", 
			"Менеджер по закупкам": "занимается закупкой товаров у поставщиков на наиболее выгодных для его компании условиях.",
			"Менеджер по персоналу": "специалист, который осуществляет функции сопровождения управления персоналом всех подразделений в организации, в том числе подбор и адаптация персонала, обучение, развитие, создание систем мотивации.", 
			"Менеджер по продажам": "специалист или руководитель отдела или группы продавцов, занимающихся прямыми продажами.", 
			"Налоговый инспектор": "сотрудник налоговой инспекции, в обязанности которого входит проведение камеральных и выездных налоговых проверок, анализ результатов, применение финансовых санкций к нарушителям.",
			"Психиатр": "квалифицированный медицинский специалист, занимающийся диагностикой, лечением и посильной профилактикой развития нарушений психики человека различной степени тяжести.", 
			"Психолог": "специалист, который проводит индивидуальные консультации для своих клиентов, осуществляет психологическую диагностику, дает клиентам нужные советы и рекомендации по решению психологической проблемы.", 
			"Риелтор": "специалист, выступающий агентом в сфере недвижимости и занимающийся сопровождением сделок купли-продажи. Является посредником между покупателем и продавцом, обеспечивая консультирование сторон и юридическое сопровождение во время сделки.", 
			"Страховой агент": "уполномоченный представитель страховой компании, специализирующийся на продаже страховых полисов и заключении договоров страхования с физическими и юридическими лицами.", 
			"Учитель": "специалист, деятельность которого направлена на обучение и воспитание будущих поколений.",
			"Юрист": "специалист в области права. Это понятие объединяет целый спектр профессий, среди которых судья, прокурор, нотариус, следователь, юрисконсульт и др.", 
			"Event-менеджер": "человек, занимающийся организацией деловых, спортивных и развлекательных мероприятий для различных организаций и частных лиц.", 
			"SMM-специалист": "занимается продвижением отдельных компаний, брендов и физических лиц в социальных сетях."
    }
    	
    	    

    window.onload = function () {

    	let start = document.getElementById("start"),
    	    test = document.getElementById("test1"),
    	   /* test2 = document.getElementById("test2"), */
    	    body = document.getElementById("body"),
    	    statement = document.getElementById("statement"),
    	    question_header = document.getElementById("questionssection"),
    	  //  forward = document.getElementById('forward'),
    	    variants = document.getElementById('variants'),
    	    images = document.getElementById("images"),
    	    td1 = document.getElementById("td1"),
    	    td2 = document.getElementById("td2"),
    	    td3 = document.getElementById("td3"),
    	    img1 = document.getElementById("img1"),
    	    img2 = document.getElementById("img2"),
    	    img3 = document.getElementById("img3"),
    	    preamble = document.getElementById("preamble");
    	start.addEventListener("click", start_questions);

    	//**************************************math section start************************************************ 

    	function start_questions() {
    		preamble.style.display = "none";
    		test.style.display = "block";
    		statement.innerText = `${great_key + 1}. ${statements[great_key][0]}`;
    	//	forward.addEventListener('click', math_q);
    	td1.addEventListener("click", make_it_plus);
    	img1.addEventListener("click", make_it_plus);
    	td2.addEventListener("click", make_it_zero);
    	img2.addEventListener("click", make_it_zero);
    	td3.addEventListener("click", make_it_minus);
    	img3.addEventListener("click", make_it_minus);

    	td1.addEventListener("mousedown", color_border);
    	td1.addEventListener("mouseup", remove_border);
    	td3.addEventListener("mousedown", color_border);
    	td3.addEventListener("mouseup", remove_border);
    	td2.addEventListener("mousedown", color_border);
    	td2.addEventListener("mouseup", remove_border);
    	img2.addEventListener("mousedown", color_border);
    	img2.addEventListener("mouseup", remove_border);
    	img1.addEventListener("mousedown", color_border);
    	img1.addEventListener("mouseup", remove_border);
    	img3.addEventListener("mousedown", color_border);
    	img3.addEventListener("mouseup", remove_border);

    	}


  		function make_it_plus() {
        all_keys_and_values[statements[great_key][1]] += statements[great_key][2];
        great_key += 1;
        if(great_key <= (statements.length - 1)) {
          statement.innerText = `${great_key + 1}. ${statements[great_key][0]}`;
        }
        else if (great_key > statements.length - 1) {
          great_key = 0;
  				second_stage();
        }   
      }

      function make_it_zero() {
        great_key += 1;
        if(great_key <= (statements.length - 1)) {
          statement.innerText = `${great_key + 1}. ${statements[great_key][0]}`;
        }
        else if (great_key > statements.length - 1) {
 					great_key = 0;
        	second_stage();
        }      
      }

      function make_it_minus() {
        all_keys_and_values[statements[great_key][1]] += -statements[great_key][2];
        great_key += 1;
        if(great_key <= (statements.length - 1)) {
          statement.innerText = `${great_key + 1}. ${statements[great_key][0]}`;
        }
        else if (great_key > statements.length - 1) {
        	second_stage();
					great_key = 0;
        }
      }

//function for the second stage of the test

      let second_stage_answers = [];

      function second_stage() {
	      td1.removeEventListener("click", make_it_plus);
	    	img1.removeEventListener("click", make_it_plus);
	    	td2.removeEventListener("click", make_it_zero);
	    	img2.removeEventListener("click", make_it_zero);
	    	td3.removeEventListener("click", make_it_minus);
	    	img3.removeEventListener("click", make_it_minus);
	    	question_header.innerText = "II. Оцените, нравится ли Вам делать то, что приведено в высказывании:";
				img2.innerHTML = "<h4>ИЛИ</h4>";
				td2.innerHTML = " ";
				statement.innerText = `${great_key + 1}. ${second_stage_questions[great_key]}`;
				td1.addEventListener("click", second_plus);
	    	img1.addEventListener("click", second_plus);
				td3.addEventListener("click", second_minus);
	    	img3.addEventListener("click", second_minus);
      }

      function second_plus() {
					second_stage_answers.push(1);
					great_key += 1;
					if(great_key <= (second_stage_questions.length - 1)) {
				          statement.innerText = `${great_key + 1}. ${second_stage_questions[great_key]}`;
				        }
					else if(great_key > second_stage_questions.length - 1) {
				                for (let key in second_stage_spheres) {
					  second_stage_spheres[key].forEach(elem => {
						second_test_scores[key] += second_stage_answers[elem - 1];
					});
				}
			third_stage();	
				}
      }

      function second_minus() {
					second_stage_answers.push(0);
					great_key += 1;
					if(great_key <= (second_stage_questions.length - 1)) {
				          statement.innerText = `${great_key + 1}. ${second_stage_questions[great_key]}`;
				        }
					else if(great_key > second_stage_questions.length - 1) {
						for (let key in second_stage_spheres) {
					  second_stage_spheres[key].forEach(elem => {
						second_test_scores[key] += second_stage_answers[elem - 1];
					});
					}
						third_stage();	
					}
      }

      //function to start the third stage

      function third_stage() {

      	test.style.border = "1px solid black";

      //flat array of suitable professions after stage one

	for (let key in all_keys_and_values){
		//!!!!!!!!!!!!!!!!!!!!!!!!!!
      		if(all_keys_and_values[key] > 2) {
		professions[key].forEach(el => list_of_professions_one.push(el));
		} 
        }
      
      // flat array of suitable professions after stage two

	for (let clue in second_test_scores) {
		//!!!!!!!!!!!!!!!!!!!!!!!!
		if(second_test_scores[clue] > 2) {
		jobs_based_on_spheres[clue].forEach(elem => list_of_professions_two.push(elem));
		}
	}

      // final array of all suitable professions
      
      list_of_professions_one.forEach(elem => {
        if(list_of_professions_two.includes(elem)) {
          general_list_of_professions.push(elem);
        }
      });

      if(general_list_of_professions.length == 0) {
	general_list_of_professions = [...list_of_professions_one, ...list_of_professions_two];	
      }

      //here we build the table of all suitable professions

      let content = ``;
      let start = `<tr><td colspan="3"><h4 id="questionssection">III. Удалите профессии, которые не нравятся или не представляют интереса (если такие есть). После этого нажмите "Готово".</h4></td></tr>`;
      let ready_button = `<tr><td colspan="3" class="paddings"><button class="fontsize" id="readybutton">ГОТОВО</button></td></tr>`;

      general_list_of_professions.forEach((elem, index) => {
	content += `<tr id="prof${index+1}"><td class="fifteen">${elem}</td><td class="justify paddings">${definitions[elem]}</td><td class="ten"><button class="fontsizesmall">УДАЛИТЬ</button></td></tr>`;
      });      
      test.innerHTML = start + content + ready_button;

      let buttons = test.querySelectorAll(".fontsizesmall");

      let magic_button = document.getElementById('readybutton');
      magic_button.addEventListener("click", stage_four);

      buttons.forEach(elem => {
      	elem.addEventListener("click", removetablerow);
      	elem.addEventListener("mousedown", colortablerow);
    });

      let tds = test.querySelectorAll('td')
     	tds.forEach(el => el.classList.add("yesborder"));

      }

      //function for removing rows in the table of professions

      function removetablerow(e) {
      	let prof = e.currentTarget.parentNode.parentNode.querySelector(".fifteen").innerText;
      	//console.log(prof);
      	let index = general_list_of_professions.indexOf(prof);
      	general_list_of_professions.splice(index, 1);
      	//console.log(general_list_of_professions);
      	e.currentTarget.parentNode.parentNode.style.backgroundColor = "red";
      	test.querySelector('tbody').removeChild(e.currentTarget.parentNode.parentNode);
      }

      //function for coloring the background of a tablerow

      function colortablerow(e) {
      	e.currentTarget.parentNode.parentNode.style.backgroundColor = "red";
      }

      // functions for changing the borders when element is chosen

      function color_border(e) {
        //e.currentTarget.style.backgroundColor = "cyan";
        e.currentTarget.classList.add("fun");
      }

      function remove_border(e) {
        //e.currentTarget.style.backgroundColor = "transparent";
        e.currentTarget.classList.remove("fun");
      }

      //function for preparing to section four

      function stage_four() {
      	if(general_list_of_professions.length == 0) {
      		shape_final_table();
      	} else if(general_list_of_professions.length == 1) {
      		final_scores_object[general_list_of_professions[0]] = 1;
      		shape_final_table();
      	}
      	general_list_of_professions_copy = [...general_list_of_professions];
        general_list_of_professions.forEach(el => {
          final_scores_object[el] = 0;
        });	
      	let start = `<tr><td colspan="3"><h4 id="questionssection">IV. Какая из двух профессий нравится Вам больше?</h4></td></tr>`;
      	let content = `<tr id="images">
								    	 	<td id="img1"><img class="imageresize" src="img/trainer/left.jpg" alt="" /></td>
								    	 	<td id="img2"><h5>ИЛИ</h5></td>
								    	 	<td id="img3"><img class="imageresize" src="img/trainer/right.jpg" alt="" /></td>
    	 								</tr>
								    	<tr id="variants">
							         <td id="td1">
							         	<h5>ДА, ЭТО МОЁ</h5>
								       </td> 
								       <td id="td2">
								    	 </td>
								    	 <td id="td3">
								    	 	<h5>НЕТ, НЕ ПРО МЕНЯ!</h5>
								    	 </td>
								    	</tr>`;
				
				test.innerHTML = start + content;

				     td1 = document.getElementById("td1");
    	    	 td2 = document.getElementById("td2");
    	       td3 = document.getElementById("td3");
    	       img1 = document.getElementById("img1");
    	       img2 = document.getElementById("img2");
    	       img3 = document.getElementById("img3");
    	       
    	       let super_width = window.innerWidth,
				    	   super_height = window.innerHeight;
					   if(super_width > super_height) {
					    	body.style.fontSize = "1.3vw";
					    } else {
					    	body.style.fontSize = "1.3vh";
					    } 
			    		td1.style.width = td2.style.width = td3.style.width = `${super_width * 0.9 / 3}px`;
					    test.style.width = `${td1 + td2 + td3}px`;

    	       td1.innerHTML = `<h5>${general_list_of_professions_copy[0].toUpperCase()}</h5>`;
    	       td3.innerHTML = `<h5>${general_list_of_professions_copy[1].toUpperCase()}</h5>`;
    	       img1.addEventListener("click", choose_current_profession);
    	       img3.addEventListener("click", choose_current_profession);
    	       td1.addEventListener("click", choose_current_profession);
    	       td3.addEventListener("click", choose_current_profession);

    	       img1.addEventListener("mousedown", color_border);
    	       img3.addEventListener("mousedown", color_border);
    	       td1.addEventListener("mousedown", color_border);
    	       td3.addEventListener("mousedown", color_border);

    	       img1.addEventListener("mouseup", remove_border);
    	       img3.addEventListener("mouseup", remove_border);
    	       td1.addEventListener("mouseup", remove_border);
    	       td3.addEventListener("mouseup", remove_border);

    	       let tds = test.querySelectorAll('td')
     				 tds.forEach(el => el.classList.add("yesborder"));
      }

      function choose_current_profession(e) {
  	    //console.log(e.currentTarget.id);
  	    //console.log(current_index);
        if(general_list_of_professions_copy.length > 1) {

        	if(general_list_of_professions.length == 2) {
	        	current_element = general_list_of_professions[0];
	          general_list_of_professions_copy.shift();
	          //console.log(general_list_of_professions);
	          //console.log(general_list_of_professions_copy);

	          td1.innerHTML = `<h5>${current_element.toUpperCase()}</h5>`;
	    	   	td3.innerHTML = `<h5>${general_list_of_professions_copy[0].toUpperCase()}</h5>`;

	    	   	          if((e.currentTarget.id == "td1")||(e.currentTarget.id == "img1")) {
            final_scores_object[current_element] += 1;
          //  final_scores_object[final_profs_array_copy[current_index]] -= 1;
        }
          else if((e.currentTarget.id == "td3")||(e.currentTarget.id == "img3")) {
          //  final_scores_object[current_element] -= 1;
            final_scores_object[general_list_of_professions_copy[current_index]] += 1;
          }

             img1.removeEventListener("click", choose_current_profession);
    	       img3.removeEventListener("click", choose_current_profession);
    	       td1.removeEventListener("click", choose_current_profession);
    	       td3.removeEventListener("click", choose_current_profession);

    	       img1.removeEventListener("mousedown", color_border);
    	       img3.removeEventListener("mousedown", color_border);
    	       td1.removeEventListener("mousedown", color_border);
    	       td3.removeEventListener("mousedown", color_border);

    	       img1.removeEventListener("mouseup", remove_border);
    	       img3.removeEventListener("mouseup", remove_border);
    	       td1.removeEventListener("mouseup", remove_border);
    	       td3.removeEventListener("mouseup", remove_border);
              
             shape_final_table();
      } 
        
        //check if it's the first iteration

        if(general_list_of_professions_copy.includes(general_list_of_professions[0])) {
          current_element = general_list_of_professions[0];
          general_list_of_professions_copy.shift();
          //console.log(general_list_of_professions);
          //console.log(general_list_of_professions_copy);

          td1.innerHTML = `<h5>${current_element.toUpperCase()}</h5>`;
    	   	td3.innerHTML = `<h5>${general_list_of_professions_copy[0].toUpperCase()}</h5>`;

        }
        
          if((e.currentTarget.id == "td1")||(e.currentTarget.id == "img1")) {
            final_scores_object[current_element] += 1;
          //  final_scores_object[final_profs_array_copy[current_index]] -= 1;
        }
          else if((e.currentTarget.id == "td3")||(e.currentTarget.id == "img3")) {
          //  final_scores_object[current_element] -= 1;
            final_scores_object[general_list_of_professions_copy[current_index]] += 1;
          }
          
          current_index += 1;

        //check if one profession has been compared to all other professions
        
          if(current_index > general_list_of_professions_copy.length - 1) {
          current_element = general_list_of_professions_copy[0];
          general_list_of_professions_copy.shift();

          td1.innerHTML = `<h5>${current_element.toUpperCase()}</h5>`;
    	   	td3.innerHTML = `<h5>${general_list_of_professions_copy[0].toUpperCase()}</h5>`;
          current_index = 0;
        }
          //console.log("it comes here");
          //console.log(general_list_of_professions_copy[current_index].toUpperCase());
          let temp = general_list_of_professions_copy[current_index].toUpperCase();
          
          td3.innerHTML = `<h5>${temp}</h5>`;

      	} /*else if (general_list_of_professions_copy.length == 2) {}*/ 

      	else if (general_list_of_professions_copy.length == 1) {
              if((e.currentTarget.id == "td1")||(e.currentTarget.id == "img1")) {
                final_scores_object[current_element] += 1;
              //  final_scores_object[final_profs_array_copy[0]] -= 1;
              } else if ((e.currentTarget.id == "td3")||(e.currentTarget.id == "img3")) {
              //    final_scores_object[current_element] -= 1;
                  final_scores_object[general_list_of_professions_copy[0]] += 1;
              }

             img1.removeEventListener("click", choose_current_profession);
    	       img3.removeEventListener("click", choose_current_profession);
    	       td1.removeEventListener("click", choose_current_profession);
    	       td3.removeEventListener("click", choose_current_profession);

    	       img1.removeEventListener("mousedown", color_border);
    	       img3.removeEventListener("mousedown", color_border);
    	       td1.removeEventListener("mousedown", color_border);
    	       td3.removeEventListener("mousedown", color_border);

    	       img1.removeEventListener("mouseup", remove_border);
    	       img3.removeEventListener("mouseup", remove_border);
    	       td1.removeEventListener("mouseup", remove_border);
    	       td3.removeEventListener("mouseup", remove_border);
              
             shape_final_table();
        }


      }



      //***************************here we shape the results***********************************

      function shape_final_table() {
      	const final_table_heading = `<tr><td colspan="3"><h2 id="questionssection">РЕЗУЛЬТАТЫ</h2></td></tr>
      															 <tr><td colspan="3"><h4>I. НАПРАВЛЕНИЯ РАБОТЫ</h4></td></tr>
      															 <tr><td class="fifteen">Направление</td><td>Описание</td><td class="ten">Совпадение</td></tr>`;
      	let first_stage_content = "";
      	for (let key in all_keys_and_values) {
      		if(all_keys_and_values[key] < 0) {all_keys_and_values[key] = 0}
      		first_stage_content += `<tr><td><h6>Человек-${first_matrix[key]}</h6></td><td class="justify paddings">${first_matrix_content[key]}</td><td>${(all_keys_and_values[key] / 8 * 100).toFixed(2)}%</td></tr>`;
      	}
      	let second_stage_heading = `<tr><td colspan="3"><h4>II. ПРЕДПОЧТЕНИЯ ПО СФЕРАМ</h4></td></tr>`;
      	let second_stage_content = "",
      		  num = 1;
      	for (let key in second_test_scores) {
      		second_stage_content += `<tr><td class="right">${num}.</td><td class="left">${second_matrix[key]}</td><td class="fifteen">${(second_test_scores[key] / 5 * 100).toFixed(2)}%</td></tr>`;
      		num += 1;
      	}

      	let final_stage_heading = `<tr><td colspan="3"><h4>III. ПРЕДПОЧТЕНИЯ ПО ПРОФЕССИЯМ</h4></td></tr>`;

      	let middle_professions = ``;

      	let perc = 0;

      	if(general_list_of_professions.length == 1) {
      		perc = 100.00;
      	} else if(general_list_of_professions.length > 1){
      		perc = (100/(general_list_of_professions.length-1)).toFixed(2);
        }
      	num = 1;

      	const final_scores_object_sorted = Object.fromEntries(
          Object.entries(final_scores_object).sort(([,a],[,b]) => a-b).reverse());

      	for (let key in final_scores_object_sorted) {
      		let temp_value = final_scores_object_sorted[key] * perc;
      		if(temp_value > 100) {temp_value = 100;}
      		middle_professions += `<tr><td class="right">${num}.</td><td class="left">${key}</td><td>${temp_value.toFixed(2)}%</td></tr>`;
      		num += 1;
      	}
      	
      	let btn = "<table class='buttontable'><tr class='center'><td class='center biggerpaddings'><button id='printres' class='fontsize'>СОХРАНИТЬ</button></td></tr></table>";

      	test.innerHTML = final_table_heading + first_stage_content + second_stage_heading + second_stage_content + final_stage_heading + middle_professions;
      	let tds = test.querySelectorAll('td')
				tds.forEach(el => el.classList.add("yesborder"));
      	
      	body.innerHTML += btn;




      	let result_button = document.getElementById("printres");

      	      result_button.addEventListener("click", function(){
      	let pdf_content = document.getElementById("test1");
      	let options = {
		      margin:       0.2,
		      filename:     'results.pdf',
		      image:        { type: 'jpeg', quality: 0.98 },
		      html2canvas:  { scale: 0.7 },
		      jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
		    };
		    html2pdf(pdf_content, options);
      });

      }
      

      //***************************resize section**********************************************
    	
    	function resize_window() {
    		//console.log('resize called');
  		  let super_width = window.innerWidth,
	    	    super_height = window.innerHeight;
		    if(super_width > super_height) {
		    	body.style.fontSize = "1.3vw";
		    } else {
		    	body.style.fontSize = "1.3vh";
		    } 
    		td1.style.width = td2.style.width = td3.style.width = `${super_width * 0.9 / 3}px`;
		    test.style.width = `${td1 + td2 + td3}px`;
			}
				resize_window();
				window.addEventListener("resize", resize_window);
			}
    </script>
	</body>
</html>